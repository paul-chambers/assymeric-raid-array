<html>
<title>Creating a RAID-5 or RAID-6 array from drives of dissimilar size</title>
<body>
<h1>Creating a RAID-5 or RAID-6 array from drives of dissimilar size</h1>

<p>Normally creating a RAID-5 or RAID-6 array on a collection of drives of dissimilar
sizes will result in a RAID drive that's a multiple of the size of the smallest drive.
For example, if there are four drives of 8TB and one of 2TB, the array will be created
from 5 partitions of 2TB each, leaving 6TB unused on the four largest drives.</p>

<p>However, it is possible to get some resilience to drive failures whilst still
making use of most of the capacity of dissimilarly-sized drives.</p>

<p>This is not a new technique - Synology uses it for their 'Synology Hybrid RAID'
(SHR and SHR-2) volume formats.</p>

<p>To work around the constraint of the raid members needing to be the same size, 
the drives are divided into partitiaions of equal size. An array is then created
using the equally-sized partitions across the different physical drives.</p>

<p>In this manner, multiple RAID-5 or 6 arrays are created, spanning a variable
number of drives. The multiple RAID arrays can then be pooled together by using
them as LVM2 physical volumes, and adding them all to the same LVM2 volume group.</p>

<hr>
<h2>Further Reading</h2>
<ul>
<li><a href="http://www.rodsbooks.com/gdisk/">sgdisk</a> - used to partition the
individual hard drives using the GPT partition table format.</li>
<li><a href="https://sourceware.org/lvm2/">lvm2</a> - used to combine the multiple RAID
arrays into a volume group, a single large pool of storage blocks. Logical volumes can
then be created using storage from the pool provided by the volume group.</li>
</ul>
</body>
</html>
